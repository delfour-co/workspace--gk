# =============================================================================
# GK Mail - Production Environment Configuration
# =============================================================================
# Copy this file to .env.prod and fill in your values
# NEVER commit .env.prod to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Version
# -----------------------------------------------------------------------------
VERSION=0.1.0

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
MAIL_DOMAIN=mail.example.com
ACME_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
RUST_LOG=info
# Options: trace, debug, info, warn, error

# -----------------------------------------------------------------------------
# Ollama Configuration
# -----------------------------------------------------------------------------
OLLAMA_VERSION=latest
OLLAMA_MODEL=llama3.1:8b
# Alternative models: mistral:7b, codellama:13b, llama2:70b

# -----------------------------------------------------------------------------
# Security (DO NOT set sensitive values here - use secrets/)
# -----------------------------------------------------------------------------
# Path to secrets directory
SECRETS_DIR=./secrets

# -----------------------------------------------------------------------------
# Resource Limits (adjust based on your server)
# -----------------------------------------------------------------------------
MAIL_RS_CPU_LIMIT=2
MAIL_RS_MEM_LIMIT=2G
AI_RUNTIME_CPU_LIMIT=2
AI_RUNTIME_MEM_LIMIT=2G
OLLAMA_CPU_LIMIT=4
OLLAMA_MEM_LIMIT=8G

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
METRICS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DATABASE_URL=sqlite:///data/db/users.db
# For production, consider PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost/gkmail

# -----------------------------------------------------------------------------
# SMTP Configuration
# -----------------------------------------------------------------------------
SMTP_MAX_MESSAGE_SIZE=52428800  # 50MB
SMTP_TIMEOUT=300  # 5 minutes
SMTP_MAX_CONNECTIONS=100

# -----------------------------------------------------------------------------
# IMAP Configuration
# -----------------------------------------------------------------------------
IMAP_MAX_CONNECTIONS=50
IMAP_TIMEOUT=1800  # 30 minutes

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_DKIM=true
ENABLE_SPF=true
ENABLE_DMARC=true
ENABLE_STARTTLS=true
REQUIRE_AUTH=true
